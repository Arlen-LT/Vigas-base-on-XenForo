var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,f,g){c instanceof String&&(c=String(c));for(var h=c.length,a=0;a<h;a++){var b=c[a];if(f.call(g,b,a,c))return{i:a,v:b}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,f,g){c!=Array.prototype&&c!=Object.prototype&&(c[f]=g.value)};
$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,f,g,h){if(f){g=$jscomp.global;c=c.split(".");for(h=0;h<c.length-1;h++){var a=c[h];a in g||(g[a]={});g=g[a]}c=c[c.length-1];h=g[c];f=f(h);f!=h&&null!=f&&$jscomp.defineProperty(g,c,{configurable:!0,writable:!0,value:f})}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,g){return $jscomp.findInternal(this,c,g).v}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var c=0;return function(f){return $jscomp.SYMBOL_PREFIX+(f||"")+c++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.asyncIterator;c||(c=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.arrayIterator=function(c){var f=0;return $jscomp.iteratorPrototype(function(){return f<c.length?{done:!1,value:c[f++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.iteratorFromArray=function(c,f){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var g=0,h={next:function(){if(g<c.length){var a=g++;return{value:f(a,c[a]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6","es3");
!function(c,f,g,h){XF.Lightbox=XF.Element.newHandler({options:{lbInfobar:1,lbSlideShow:1,lbThumbsAuto:1,lbUniversal:0,lbTrigger:".js-lbImage",lbContainer:".js-lbContainer",lbHistory:0,lbPrev:null,lbNext:null},$sidebar:null,initialUrl:null,prevUrl:null,nextUrl:null,thumbsInitialized:!1,lastIndex:null,isJumping:!1,pushStateCount:0,init:function(){this.initContainers();c(g).on("xf:reinit",XF.proxy(this,"checkReInit"));c(g).on("click","a.js-lightboxCloser",function(a){a=c(a.target);XF.findRelativeIf("< .fancybox-inner | .fancybox-toolbar",
a).find("[data-fancybox-close]").click()})},getInstance:function(){return c.fancybox.getInstance()},handlePopstate:function(a){if(this.options.lbHistory){var b=this.getInstance();this.pushStateCount--;a&&"object"===typeof a&&a.hasOwnProperty("slide_src")?(this.isJumping=!0,b&&(a=b.findIndexFromSrc(a.slide_src),null!==a&&b.jumpTo(a))):b&&(this.pushStateCount=0,b.close())}},initContainers:function(){var a=this;(this.options.lbUniversal?this.$target:this.$target.find(this.options.lbContainer)).each(function(){a._initContainer(c(this))})},
_initContainer:function(a){if(!a.data("lbInitialized")){a.data("lbInitialized",!0);var b=this;a.find(this.options.lbTrigger).on("click.xflbtrigger mousedown.xflbtrigger",function(a){var d=c(a.target).parent();("mousedown"===a.type?2===a.which:a.ctrlKey||a.altKey||a.metaKey||a.shiftKey)&&b.isSingleImage(d)&&(a.stopImmediatePropagation(),f.open(d.data("src"),"_blank"));return!0});a.find(b.options.lbTrigger).each(function(){var d=c(this);d.on("lightbox:image-checked",XF.proxy(b,"imageChecked"));b.checkImageSizes(d,
a)});var d=c.extend(this.getConfig(a),{selector:this.options.lbTrigger+'[data-fancybox="'+this.getContainerId(a)+'"]'});a.fancybox(d);a.on("lightbox:init",XF.proxy(this,"onInit"));a.on("lightbox:activate",XF.proxy(this,"onActivate"));a.on("lightbox:after-load",XF.proxy(this,"afterLoad"));a.on("lightbox:before-show",XF.proxy(this,"beforeShow"));a.on("lightbox:after-show",XF.proxy(this,"afterShow"));a.on("lightbox:before-close",XF.proxy(this,"beforeClose"));a.on("lightbox:after-close",XF.proxy(this,
"afterClose"))}},checkReInit:function(a,b){if(b!=g&&this.$target.find(b).length){a=c(b);b=this.options.lbTrigger;var d=this.options.lbContainer;this.options.lbUniversal?(a.is(b)||a.find(b).length)&&this._reInitContainer(this.$target):a.is(d)||a.find(d).length?this.initContainers():a.closest(d).length&&(a.is(b)||a.find(b).length)&&this._reInitContainer(a.closest(d))}},_reInitContainer:function(a){if(a.data("lbInitialized")){var b=this.getInstance();b&&b.close();a.removeData("lbInitialized");a.off("onThumbsShow.fb");
a.off("onThumbsHide.fb");this.thumbsInitialized=!1;a.off("lightbox:init");a.off("lightbox:activate");a.off("lightbox:before-show");a.off("lightbox:after-show");a.off("lightbox:before-close");a.off("lightbox:after-close");this._initContainer(a)}},initSidebar:function(a){var b=this.getInstance();b&&(b=b.$refs.container,this.$sidebar?a&&this.$sidebar.addClass("is-loading"):(this.$sidebar=a=c("<div />").html('<div class="fancybox-sidebar-content"></div><div class="fancybox-sidebar-loader"><i class="fa--xf fa'+
XF.config.fontAwesomeWeight+' fa-spinner-third fa-4x"></i></div>').addClass("fancybox-sidebar").addClass(a?"is-loading":""),this.$sidebar.appendTo(b),b.find(".fancybox-button[data-fancybox-sidebartoggle]").off("click.lbSidebar").on("click.lbSidebar",XF.proxy(this,"toggleSidebar")),c(f).on("resize.lbSidebar",XF.proxy(this,"sidebarCheckSize"))),b.addClass("fancybox-has-sidebar"),this.isSidebarEnabled()&&(this.$sidebar.addClass("is-active"),b.addClass("fancybox-show-sidebar")),this.sidebarCheckSize())},
isSidebarEnabled:function(){return!XF.LocalStorage.get("lbSidebarDisabled")&&XF.Breakpoint.isAtOrWiderThan("full")},setIsSidebarEnabled:function(a){a?XF.LocalStorage.remove("lbSidebarDisabled"):XF.LocalStorage.set("lbSidebarDisabled","1",!0)},toggleSidebar:function(){this.$sidebar.hasClass("is-active")?this.closeSidebar(!1):this.openSidebar(!1)},openSidebar:function(a){var b=this.getInstance(),d=b.$refs.container;this.$sidebar.addClass("is-active");d.addClass("fancybox-show-sidebar");a||this.setIsSidebarEnabled(!0);
b.update()},closeSidebar:function(a){if(this.$sidebar){var b=this.getInstance(),d=b.$refs.container;this.$sidebar.removeClass("is-active");d.removeClass("fancybox-show-sidebar");a||this.setIsSidebarEnabled(!1);b.update()}},sidebarCheckSize:function(){var a=this.getInstance().$refs.container;XF.Breakpoint.isAtOrNarrowerThan("medium")?(a.removeClass("fancybox-has-sidebar"),this.closeSidebar(!0)):a.addClass("fancybox-has-sidebar")},initThumbs:function(){var a=this.getInstance(),b=this;if(a&&!this.thumbsInitialized){if(this.options.lbThumbsAuto){var d=
this.measureThumbsScrollbar();this.setThumbsScrollbarOffset(d)}a.$refs.container.off("onThumbsShow.fb").on("onThumbsShow.fb",function(){d=b.measureThumbsScrollbar();b.setThumbsScrollbarOffset(d)});a.$refs.container.off("onThumbsHide.fb").on("onThumbsHide.fb",function(){b.setThumbsScrollbarOffset(0)});this.thumbsInitialized=!0}},measureThumbsScrollbar:function(){var a=this.getInstance();return a&&a.Thumbs&&a.Thumbs.isActive?XF.measureScrollBar(a.Thumbs.$grid,"height"):0},setThumbsScrollbarOffset:function(a){var b=
this.getInstance();b&&b.Thumbs&&b.Thumbs.isActive&&b.$refs.caption.css("padding-bottom",a+"px")},updateLastIndex:function(){var a=this.getInstance();a&&(a=Object.keys(a.group),this.lastIndex=parseInt(a[a.length-1]))},onInit:function(a,b,d){this.updateLastIndex();this.prevUrl=this.options.lbPrev;this.nextUrl=this.options.lbNext;this.thumbsInitialized=!1},onActivate:function(){XF.Modal.open();XF.Lightbox.activeLb=this},afterLoad:function(a,b,d,c){"ajax"===c.type&&(a=c.$content,b=a.find(".js-embedContent"),
d={},b.length&&(d[b.data("media-site-id")]=!0,XF.applyJsState(XF.config.jsState,d),c.$slide.removeClass("fancybox-slide--video").addClass("fancybox-slide--embed")),XF.activate(a))},beforeShow:function(a,b,c,e){XF.hideOverlays();XF.hideTooltips();if(a=e.opts.$orig)c=c.$refs.container,a.data("lb-sidebar")||a.data("lb-sidebar-href")?this.initSidebar(!0):(c.removeClass("fancybox-has-sidebar"),this.closeSidebar(!0)),a.data("lb-type-override")&&(e.contentType=a.data("lb-type-override"));this.initThumbs()},
afterShow:function(a,b,c,e){a=e.opts.$orig;b=c.$refs.container;var d=this;var f=a?a.attr("href")||e.src:e.src;c.$refs.toolbar.find("[data-fancybox-nw]").attr("href",f).attr("target","_blank");this.options.lbHistory&&!this.isJumping&&(XF.History.push({slide_src:e.src},null,f),this.pushStateCount++);this.isJumping=!1;(a.data("lb-sidebar")||a.data("lb-sidebar-href"))&&b.hasClass("fancybox-has-sidebar")&&(c=a?a.data("lb-sidebar-href")||f:f,XF.ajax("get",c,{lightbox:!0},function(a){d.sidebarLoaded(a)},
{skipDefault:!0,skipError:!0,global:!1}));e.index===this.lastIndex&&this.nextUrl?XF.ajax("get",this.nextUrl,{lightbox:!0},function(a){d.nextLoaded(a)},{skipDefault:!0,skipError:!0,global:!1}):0===e.index&&this.prevUrl&&XF.ajax("get",this.prevUrl,{lightbox:!0},function(a){d.prevLoaded(a)},{skipDefault:!0,skipError:!0,global:!1})},sidebarLoaded:function(a){if(a.html&&this.$sidebar){var b=this;XF.setupHtmlInsert(a.html,function(a,c,f){b.$sidebar&&(b.$sidebar.find(".fancybox-sidebar-content").html(a),
b.$sidebar.removeClass("is-loading"))})}},prevLoaded:function(a){if(a.html){var b=this,d=this.getInstance();d&&XF.setupHtmlInsert(a.html,function(a,f,g){a=a.find(b.options.lbContainer);a.find(b.options.lbTrigger).reverse().each(function(){var a=c(this);b.updateCaption(a);d.prependContent(a);d.reindexSlides();a=d.currIndex;var e=d.prevIndex;a++;e++;d.currIndex=a;d.currPos=a;d.current.index=a;d.current.pos=a;d.prevIndex=e;d.prevPos=e});d.update();d.Thumbs.update();b.updateLastIndex();b.prevUrl=a.data("lb-prev");
g(!0)})}else this.prevUrl=null},nextLoaded:function(a){if(a.html){var b=this,d=this.getInstance();d&&XF.setupHtmlInsert(a.html,function(a,f,g){a=a.find(b.options.lbContainer);a.find(b.options.lbTrigger).each(function(){var a=c(this);b.updateCaption(a);d.addContent(a)});b.updateLastIndex();b.nextUrl=a.data("lb-next");g(!0)})}else this.nextUrl=null},beforeClose:function(a,b,d,e){this.options.lbHistory&&this.pushStateCount&&(XF.History.go(-this.pushStateCount),this.pushStateCount=0);this.$sidebar&&(this.$sidebar.remove(),
this.$sidebar=null,c(f).off("resize.lbSidebar"))},afterClose:function(){XF.Modal.close();XF.Lightbox.activeLb=null},getContainerId:function(a){return"lb-"+a.data("lb-id")},imageChecked:function(a,b,c,e){a=!0;e&&this.isImageNaturalSize(e)&&(a=!1);a&&(b.attr("data-fancybox",this.getContainerId(c)),b.css("cursor","pointer"),this.updateCaption(b))},checkImageSizes:function(a,b){var d=c.Event("lightbox:image-checked");if(this.isSingleImage(a)){var e=a.find("img[data-zoom-target=1]");e.parents("a").length||
setTimeout(function(){if(e.prop("complete"))a.trigger(d,[a,b,e]);else e.on("load",function(){a.trigger(d,[a,b,e])})},500)}else a.trigger(d,[a,b])},isImageNaturalSize:function(a){var b=a.width(),c=a.height(),e=a.prop("naturalWidth");a=a.prop("naturalHeight");return e&&a?b==e&&c==a:!0},isSingleImage:function(a){return a.is("div")&&a.data("single-image")},updateCaption:function(a){if(!a.data("caption")){var b=a.closest(this.options.lbContainer),c=a.find("img"),e=b.data("lb-id");b={title:b.data("lb-caption-title")||
c.attr("alt")||c.attr("title")||"",desc:a.data("lb-caption-desc")||b.data("lb-caption-desc")||"",href:a.data("lb-caption-href")||(e?f.location.href.replace(/#.*$/,"")+"#"+e:null),extra_html:a.data("lb-caption-extra-html")||""};a.attr("data-caption",Mustache.render('<h4>{{title}}</h4><p><a href="{{href}}" class="js-lightboxCloser">{{desc}}</a>{{{extra_html}}}</p>',b))}},getConfig:function(a){return{hash:!1,lang:"xf",i18n:{xf:this.getLanguage()},loop:!(this.options.lbPrev||this.options.lbNext),wheel:!1,
closeExisting:!0,smallBtn:!1,buttons:"zoom newWindow fullScreen slideShow download thumbs close sidebarToggle".split(" "),btnTpl:{zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><i></i><i></i></button>',newWindow:'<a data-fancybox-nw class="fancybox-button fancybox-button--nw" title="{{NEW_WINDOW}}" href="javascript:;"><i></i></a>',fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><i></i><i></i></button>',
slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><i></i><i></i></button>',download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><i></i></a>',thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><i></i></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><i></i></button>',
sidebarToggle:'<div class="fancybox-sidebartoggle"><button data-fancybox-sidebartoggle class="fancybox-button fancybox-button--sidebartoggle" title="{{SIDEBAR_TOGGLE}}"><i></i></button></div>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><i></i></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><i></i></button>'},slideShow:this.options.lbSlideShow?{autoStart:!1,speed:3E3}:
!1,thumbs:{autoStart:this.options.lbThumbsAuto,axis:"x"},video:{autoStart:!1},infobar:this.options.lbInfobar,onInit:function(b){var d=c.Event("lightbox:init");a.trigger(d,[a,b])},beforeLoad:function(b,d){var e=c.Event("lightbox:before-load");a.trigger(e,[a,b,d])},afterLoad:function(b,d){var e=c.Event("lightbox:after-load");a.trigger(e,[a,b,d])},beforeShow:function(b,d){var e=c.Event("lightbox:before-show");a.trigger(e,[a,b,d])},afterShow:function(b,d){var e=c.Event("lightbox:after-show");a.trigger(e,
[a,b,d])},beforeClose:function(b,d){var e=c.Event("lightbox:before-close");a.trigger(e,[a,b,d])},afterClose:function(b,d){var e=c.Event("lightbox:after-close");a.trigger(e,[a,b,d])},onActivate:function(b){var d=c.Event("lightbox:activate");a.trigger(d,[a,b])},onDeactivate:function(b){var d=c.Event("lightbox:deactivate");a.trigger(d,[a,b])}}},getLanguage:function(){return{CLOSE:XF.phrase("lightbox_close"),NEXT:XF.phrase("lightbox_next"),PREV:XF.phrase("lightbox_previous"),ERROR:XF.phrase("lightbox_error"),
PLAY_START:XF.phrase("lightbox_start_slideshow"),PLAY_STOP:XF.phrase("lightbox_stop_slideshow"),FULL_SCREEN:XF.phrase("lightbox_full_screen"),THUMBS:XF.phrase("lightbox_thumbnails"),DOWNLOAD:XF.phrase("lightbox_download"),SHARE:XF.phrase("lightbox_share"),ZOOM:XF.phrase("lightbox_zoom"),NEW_WINDOW:XF.phrase("lightbox_new_window"),SIDEBAR_TOGGLE:XF.phrase("lightbox_toggle_sidebar")}}});XF.Lightbox.activeLb=null;c(g).on("xf:reinit",function(a,b){if(b!=g){var d=c(b).closest("[data-xf-init~=lightbox]");
d.length&&(XF.Element.getHandler(d,"lightbox")||setTimeout(function(){XF.Element.initializeElement(d)},0))}});XF.History.handle(function(a){var b=XF.Lightbox.activeLb;if(b)return b.handlePopstate(a),!0});XF.Element.register("lightbox","XF.Lightbox")}(jQuery,window,document);
