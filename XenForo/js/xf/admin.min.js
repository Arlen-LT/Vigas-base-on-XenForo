var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,e,c){b instanceof String&&(b=String(b));for(var f=b.length,a=0;a<f;a++){var d=b[a];if(e.call(c,d,a,b))return{i:a,v:d}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,c){b!=Array.prototype&&b!=Object.prototype&&(b[e]=c.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,e,c,f){if(e){c=$jscomp.global;b=b.split(".");for(f=0;f<b.length-1;f++){var a=b[f];a in c||(c[a]={});c=c[a]}b=b[b.length-1];f=c[b];e=e(f);e!=f&&null!=e&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");
!function(b,e,c,f){XF.OffCanvasBuilder.acpNav=function(a,b){a.on("off-canvas:opening",function(){a.css("position","")})};XF.AdminNav=XF.Element.newHandler({options:{topOffset:".p-header",stickyTarget:"| .js-navSticky",sectionTogglers:".js-navSectionToggle",toggleTarget:".p-nav-section",toggleSubTarget:".p-nav-listSection",navTester:"| .js-navTester"},$stickyTarget:null,init:function(){this.$stickyTarget=XF.findRelativeIf(this.options.stickyTarget,this.$target);this.refreshSticky();this.$target.on("click",
this.options.sectionTogglers,XF.proxy(this,"togglerClick"));b(e).resize(XF.proxy(this,"refreshSticky"))},isOffCanvas:function(){var a=XF.findRelativeIf(this.options.navTester,this.$target);return a.length?"off-canvas"==e.getComputedStyle(a[0]).getPropertyValue("font-family").replace(/"/g,""):!1},refreshSticky:function(){var a=this.$stickyTarget,b=a.data("sticky_kit");this.isOffCanvas()?b&&a.trigger("sticky_kit:detach").removeData("sticky_kit"):b||(this.$target.trigger("off-canvas:close",{instant:!0}),
b=XF.findRelativeIf(this.options.topOffset,this.$target).height(),a.stick_in_parent({offset_top:b}))},togglerClick:function(a){a.preventDefault();a=b(a.target).closest(this.options.toggleTarget);var d=this.options.toggleSubTarget;a.siblings().not(a).each(function(){var a=b(this);a.removeClassTransitioned("is-active");a.find(d).removeClassTransitioned("is-active")});a.toggleClassTransitioned("is-active",function(){XF.layoutChange()});a.find(d).toggleClassTransitioned("is-active")}});XF.AdminSearch=
XF.Element.newHandler({options:{input:"| .js-adminSearchInput",results:"| .js-adminSearchResults",resultsWrapper:"| .js-adminSearchResultsWrapper",toggleClass:"is-active"},$input:null,$results:null,$resultsWrapper:null,xhr:null,init:function(){var a=this.$target;var b=this.$input=XF.findRelativeIf(this.options.input,a);this.$results=XF.findRelativeIf(this.options.results,a);this.$resultsWrapper=XF.findRelativeIf(this.options.resultsWrapper,a);a.submit(XF.proxy(this,"submit"));XF.watchInputChangeDelayed(b,
function(){a.submit()});b.on("keydown",XF.proxy(this,"keyDown"))},submit:function(a){a.preventDefault();a=this.$target;var d=this.$results,g=this,e=this.$resultsWrapper,c=this.options.toggleClass;b.trim(this.$input.val()).length?(this.xhr&&this.xhr.abort(),this.xhr=XF.ajax("post",a.attr("action"),a.serializeArray(),function(a){a.html&&XF.setupHtmlInsert(a.html,function(a,f,h){a.length?(d.html(a),h(),e.addClass(c),d.addClassTransitioned(c),d.find("a").hover(function(){b(this).addClass("is-active")},
function(){b(this).removeClass("is-active")})):g.emptyResults()})})):this.emptyResults()},emptyResults:function(){var a=this.$results,b=this.$resultsWrapper,c=this.options.toggleClass;a.removeClassTransitioned(c,function(){a.empty();b.removeClass(c)})},keyDown:function(a){switch(a.key){case "ArrowUp":return this.menuNavigate(-1);case "ArrowDown":return this.menuNavigate(1);case "Enter":return this.menuSelect()}},menuNavigate:function(a){var d=this.$results.find("a"),c=d.filter(".is-active");a=d.index(c)+
a;d.removeClass("is-active");0>a?a=d.length-1:a>=d.length&&(a=0);b(d.get(a)).addClass("is-active").focus();this.$input.focus();return!1},menuSelect:function(){var a=this.$results.find("a.is-active");if(a.length)return e.location=a.attr("href"),!1}});XF.AdminToggleAdvancedClick=XF.Event.newHandler({eventNameSpace:"XFAdminToggleAdvancedClick",options:{url:null,value:null},init:function(){},click:function(a){if(null!==this.options.value)a=this.options.value?1:0;else if(this.$target.is(":checkbox"))a=
this.$target.prop("checked")?1:0;else{console.error("Admin toggler must be a checkbox or provide a data-value");return}this.options.url&&XF.ajax("POST",this.options.url,{advanced:a});b(".js-advancedModeToggle:checkbox").prop("checked",a);b("html").toggleClass("acp--advanced-mode",a).toggleClass("acp--simple-mode",!a);XF.layoutChange()}});XF.AdminAssetEditor=XF.Element.newHandler({options:{},init:function(){this.$target.find(".js-assetModify").on("click",XF.proxy(this,"modifyClick"))},modifyClick:function(a){a=
b(a.currentTarget);var d=a.parent();a.hasClass("is-modify")?this.enableEditing(d):a.hasClass("is-revert")&&this.revertToParent(d)},enableEditing:function(a){var b=a.find(".js-assetKey"),c=a.find(".js-assetValue");a=a.find(".js-assetModify");b.prop("disabled",!1);c.prop("disabled",!1);c.data("parent-value")||c.data("parent-value",c.val());a.removeClass("is-modify").addClass("is-revert")},revertToParent:function(a){var b=a.find(".js-assetKey"),c=a.find(".js-assetValue");a=a.find(".js-assetModify");
b.prop("disabled",!0);c.prop("disabled",!0);c.val(c.data("parent-value"));a.removeClass("is-revert").addClass("is-modify")}});XF.Event.register("click","admin-toggle-advanced","XF.AdminToggleAdvancedClick");XF.Element.register("admin-nav","XF.AdminNav");XF.Element.register("admin-search","XF.AdminSearch");XF.Element.register("admin-asset-editor","XF.AdminAssetEditor")}(jQuery,window,document);
